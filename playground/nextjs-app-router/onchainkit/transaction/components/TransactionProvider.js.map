{"version":3,"file":"TransactionProvider.js","sources":["../../../src/transaction/components/TransactionProvider.tsx"],"sourcesContent":null,"names":["emptyContext","TransactionContext","createContext","useTransactionContext","context","useContext","Error","TransactionProvider","calls","capabilities","transactionCapabilities","chainId","children","contracts","isSponsored","onError","onStatus","onSuccess","account","useAccount","config","useConfig","paymaster","undefined","useOnchainKit","errorMessage","setErrorMessage","useState","errorCode","setErrorCode","isToastVisible","setIsToastVisible","lifecycleStatus","setLifecycleStatus","statusName","statusData","transactionId","setTransactionId","transactionCount","setTransactionCount","transactionHashList","setTransactionHashList","transactions","transactionType","TRANSACTION_TYPE_CALLS","TRANSACTION_TYPE_CONTRACTS","walletCapabilities","useCapabilitiesSafe","switchChainAsync","useSwitchChain","status","statusWriteContracts","writeContractsAsync","useWriteContracts","statusWriteContract","writeContractAsync","data","writeContractTransactionHash","useWriteContract","statusSendCalls","sendCallsAsync","useSendCalls","statusSendCall","sendCallAsync","sendCallTransactionHash","useSendCall","transactionStatus","useMemo","transactionStatuses","Capabilities","AtomicBatch","supported","singleTransactionHash","paymasterService","url","sendWalletTransactions","useSendWalletTransactions","transactionHash","batchedTransactionHash","callStatus","useCallsStatus","receipt","useWaitForTransactionReceipt","hash","useEffect","message","code","transactionReceipts","length","getTransactionLegacyReceipts","useCallback","receipts","txnReceipt","waitForTransactionReceipt","push","err","error","JSON","stringify","GENERIC_ERROR_MESSAGE","switchChain","targetChainId","buildTransaction","resolvedTransactions","Promise","resolve","handleSubmit","isUserRejectedRequestError","value","useValue","isLoading","onSubmit","paymasterUrl","getPaymasterUrl","_jsx","Provider"],"mappings":"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"}